---
# Docker Registry to pull images from
registry_hostname: registry.docker.innoactive.de
registry_username:
registry_password:

docker_registry:
  hostname: "{{ registry_hostname }}"
  username: "{{ registry_username }}"
  password: "{{ registry_password }}"

# Main Hub Configuration parameters
hostname:
secret_key:
admin_email:
admin_password:
create_admin_user: true
setup_database: true
setup_wmc: true
# Error Tracking configuration
sentry_dsn:
# Google Analytics configuration
google_analytics_tracking_id:

image_versions:
  mailserver: namshi/smtp:latest
  message_queue: redis:5
  database: postgres:9.6
  hub: registry.docker.innoactive.de/hub_web:latest
  portal: registry.docker.innoactive.de/hub_portal_web:latest
  reverse_proxy: registry.docker.innoactive.de/hub_nginx:1.2.1
  reverse_proxy_config_generator: jwilder/docker-gen:latest
  letsencrypt_proxy_companion: jrcs/letsencrypt-nginx-proxy-companion:v1.11
  fluentd: registry.docker.innoactive.de/hub_fluentd:latest

hub_configuration:
  hostname: "{{ hostname }}"
  secret_key: "{{ secret_key }}"
  admin_email: "{{ admin_email }}"
  admin_password: "{{ admin_password }}"
  setup_database: "{{ setup_database }}"
  setup_wmc: "{{ setup_wmc }}"
  google_analytics_id: "{{ google_analytics_tracking_id }}"
  sentry_dsn: "{{ sentry_dsn }}"
  protocol: "{{ 'https' if letsencrypt else 'http' }}"
  create_admin_user: "{{ create_admin_user }}"

portal_hostname: "portal.{{ hub_configuration.hostname  }}"
portal_oauth_client_id:
portal_oauth_client_secret:

portal_configuration:
  hostname: "{{ portal_hostname }}"
  oauth2_client_id: "{{ portal_oauth_client_id }}"
  oauth2_client_secret: "{{ portal_oauth_client_secret }}"

# Telemetry configuration
telemetry_shared_key:
telemetry_salt:
telemetry_private_key_passphrase:

telemetry:
  shared_key:
  salt:
  private_key_passphrase:

# Secure Communications (SSL / TLS)
letsencrypt: true
letsencrypt_test: false

# Mail Configuration
gmail_user:
gmail_password:

mail_configuration:
  gmail:
    user: "{{ gmail_user }}"
    password: "{{ gmail_password }}"

# defaults file for hub
hub_service_prefix: hub

volume_names:
  media: "{{ hub_service_prefix }}_media"
  static: "{{ hub_service_prefix }}_static"

network_names:
  main: "{{ hub_service_prefix }}_network"

container_names:
  main: "{{ hub_service_prefix }}_web"
  realtime: "{{ hub_service_prefix }}_channels"
  database: "{{ hub_service_prefix }}_db"
  message_queue: "{{ hub_service_prefix }}_mq"
  mailserver: "{{ hub_service_prefix }}_mailer"
  reverse_proxy: "{{ hub_service_prefix }}_nginx"
  reverse_proxy_config_generator: "{{ hub_service_prefix }}_nginx_gen"
  letsencrypt_proxy_companion: "{{ hub_service_prefix }}_letsencrypt"
  discovery_portal: "{{ hub_service_prefix }}_portal"
  fluentd: "{{ hub_service_prefix }}_fluentd"
